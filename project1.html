<!DOCTYPE html>
<html>
  <head>
    <script src="https://d3js.org/d3.v4.min.js"></script>
  </head>
  <body>
    <p>Hello!</p>

    <script>

    d3.csv("businesses.csv", function(csv) {
       csv = csv.filter(function(row) {
         city = row['city'] == 'Toronto';
         console.log('number of Toronto = ' + city.length);
         restaurantCity = [];
         for(i=0; i<city.length; i++ ){
           if (city[i].categories.includes('Restaurants'))
            restaurantCity.push();
         }

           return restaurantCity;
       })
       console.log(csv);
   });

/*
   // an example filters object
   var filters = {
       'city': 'Toronto',
       'categories': ['Restraurant']
   };

   d3.csv("businesses.csv", function(csv) {
       csv = csv.filter(function(row) {
           // run through all the filters, returning a boolean
           return ['name', 'city', 'categories'].reduce(function(pass, column) {
               return pass && (
                   // pass if no filter is set
                   !filters[column] ||
                       // pass if the row's value is equal to the filter
                       // (i.e. the filter is set to a string)
                       row[column] === filters[column] ||
                       // pass if the row's value is in an array of filter values
                       filters[column].indexOf(row[column]) >= 0
                   );
           }, true);
       })
       console.log(csv.length, csv);
   });
*/

    </script>

  </body>
</html>
